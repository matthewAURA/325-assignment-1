DROP TABLE IF EXISTS MEDIA;
DROP TABLE IF EXISTS RATING;
DROP TABLE IF EXISTS MEDIA_EPISODE;

CREATE TABLE MEDIA (
       ID INT NOT NULL AUTO_INCREMENT
     , TITLE VARCHAR(60) NOT NULL
     , DESCRIPTION VARCHAR(255) NOT NULL
     , UNIQUE UQ_MEDIA_1 (TITLE, DESCRIPTION)
     , PRIMARY KEY (ID)
);

CREATE TABLE RATING (
       RATING_ID VARCHAR(20) NOT NULL
     , PRIMARY KEY (RATING_ID)
);

CREATE TABLE MEDIA_EPISODE (
       ID INT NOT NULL AUTO_INCREMENT
     , MEDIA_ID INT NOT NULL
     , SEASON INT NOT NULL
     , EPISODE_TITLE VARCHAR(60) NOT NULL
     , PRIMARY KEY (ID)
     , UNIQUE UQ_MEDIA_EPISODE (MEDIA_ID,SEASON,EPISODE_TITLE)
     , CONSTRAINT FK_MEDIA FOREIGN KEY (MEDIA_ID) REFERENCES MEDIA (ID)
);
